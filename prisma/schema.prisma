// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

// カテゴリーテーブル
model Category {
  id        Int       @id @default(autoincrement())
  name      String    @unique
  products  Product[]
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@map("categories")
}

// 商品テーブル
model Product {
  id          Int       @id @default(autoincrement())
  name        String // 商品名（必須）
  description String    @db.Text // 商品説明（必須、長めのテキスト）
  imageUrl    String?   @map("image_url") // Blob StorageのURL
  priceS      Decimal?  @map("price_s") @db.Decimal(10, 2) // Sサイズの料金
  priceL      Decimal?  @map("price_l") @db.Decimal(10, 2) // Lサイズの料金
  categoryId  Int       @map("category_id") // カテゴリー（必須）
  category    Category  @relation(fields: [categoryId], references: [id])
  published   Boolean   @default(true) // 公開情報（true: 公開、false: 非公開）
  publishedAt DateTime? @map("published_at") // 公開日
  endedAt     DateTime? @map("ended_at") // 終了日
  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @updatedAt @map("updated_at")

  @@map("products")
}
